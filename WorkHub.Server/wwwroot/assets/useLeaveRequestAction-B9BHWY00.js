import{r as n,i as o}from"./index--uR3bosk.js";import{r as u,g as l,v as m,R as f}from"./error.utils-BlwQgnKf.js";import{u as i}from"./auth.store-DCyo43Do.js";const w=()=>{const[c,s]=n.useState(!1),r=i(a=>{var e;return(e=a.user)==null?void 0:e.supervisor});return{formDefault:a=>({...m({}),approvedId:r==null?void 0:r.id,approvedName:(r==null?void 0:r.fullName)||"No supervisor",requestType:f.LeaveRequest,date:a||new Date,breakTime:[null,null]}),loading:c,create:async(a,e)=>{s(!0);try{await u.leaveRequestCreateRequest({createLeaveRequestDto:a}),e==null||e(),o().success({message:"Successfully completed"})}catch(t){o().error({message:await l(t)})}finally{s(!1)}},approval:async(a,e)=>{s(!0);try{const t=await u.leaveRequestApprovalRequest({id:a});e==null||e(t),o().success({message:"Successfully completed"})}catch(t){o().error({message:await l(t)})}finally{s(!1)}},reject:async(a,e)=>{s(!0);try{const t=await u.leaveRequestRejectRequest({id:a});e==null||e(t),o().success({message:"Successfully completed"})}catch(t){o().error({message:await l(t)})}finally{s(!1)}}}};export{w as u};
