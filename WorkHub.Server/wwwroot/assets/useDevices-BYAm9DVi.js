import{k as o,g as u}from"./error.utils-BlwQgnKf.js";import{r,A as p}from"./index--uR3bosk.js";const P=()=>{const[g,a]=r.useState(!1),{notification:i}=p.useApp(),[c,l]=r.useState({data:[],currentPage:1,pageSize:25,totalCount:0,totalPages:0,hasNextPage:!1,hasPreviousPage:!1}),s=r.useRef({pageNumber:c.currentPage,pageSize:c.pageSize,searchConditions:[]}),n=async t=>{a(!0);try{const e=await o.deviceSearch({pagedRequest:t});l(e)}catch(e){i.error({message:await u(e)})}finally{a(!1)}},f=r.useCallback(t=>{let e;t===void 0?e=s.current:(e=typeof t=="function"?t(s.current):t,s.current=e),n(e)},[]);return{devicePaginated:c,loading:g,fetchPaginatedDevices:n,request:s,fetchDevices:async t=>{a(!0);try{return await o.deviceGetAll({ids:t})}catch(e){return i.error({message:await u(e)}),[]}finally{a(!1)}},updateRequest:f}};export{P as u};
