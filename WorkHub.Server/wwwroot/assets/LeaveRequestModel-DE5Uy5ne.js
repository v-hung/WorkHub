import{r as p,j as e}from"./index--uR3bosk.js";import{u as I}from"./auth.store-DCyo43Do.js";import{u as g,a as y}from"./TimesheetPage-9wn4kcGd.js";import{u as C}from"./useLeaveRequestAction-B9BHWY00.js";import{R as i}from"./error.utils-BlwQgnKf.js";import{D}from"./DatePicker-C7I8Jg0m.js";import{I as m,T as L}from"./index-0qdCREwA.js";import{r as S,R as w,a as F}from"./request.util-VCGDjS3F.js";import{F as t}from"./index-BgZba38B.js";import{M}from"./index-BgAJHb6z.js";import"./date.utils-CRd9Tq6_.js";import"./startOfDay-DVNVffkj.js";import"./en-US-BRWW7OjM.js";import"./buildMatchPatternFn-DF4FdbSS.js";import"./timesheet.store-D6THQ--x.js";import"./isBefore-CMcmE5sE.js";import"./timesheet.util-DfkHrtme.js";import"./addMonths-CDK6CqD6.js";import"./gapSize-U1swVQyS.js";import"./calendar-check-YvWhLMyH.js";import"./index-f1v-kFPc.js";import"./DefaultContent-rY5y8PUg.js";import"./common.utils-DPZ9yX3U.js";import"./index-c0GfCdz7.js";import"./index-BCYX8c6P.js";import"./index-CULCKU4c.js";import"./index-CWAu2eCQ.js";import"./loader-C4fNgBr5.js";import"./MainTable-GzCEjfuZ.js";import"./index-Cw5KyAVY.js";import"./EllipsisOutlined-BTocrDpt.js";import"./dropdown-Dl8K4053.js";import"./collapse-BbEVqHco.js";import"./Input-CZqVGBfN.js";import"./useVariants-BuS53gwb.js";import"./useIcons-BCjpvc7O.js";import"./DownOutlined-DmCfGseC.js";import"./index-tL5HCDFB.js";import"./index-BsljEl-V.js";import"./index-ndTAV7xn.js";import"./useBreakpoint-CJq1a_UD.js";import"./index-D5u-G5-S.js";import"./chevron-back-yLp5EtMO.js";import"./chevron-forward-BP65w4GZ.js";import"./differenceInDays-BOrY2M2f.js";import"./endOfMonth-BI9bRzhF.js";import"./DefaultBreadcrumb-DHRDwWi8.js";import"./typeof-C5VrKZhV.js";import"./TimePicker.module-D3qUlonp.js";import"./validate.utils-ciPUpZAo.js";const A=f=>{const{className:h="",...x}=f,{isOpen:s,closeRequest:l,date:n}=g(),{getCurrentTimesheets:b,isCurrentMonth:q}=y(),{loading:v,create:T,formDefault:u}=C(),d=I(r=>{var a;return(a=r.user)==null?void 0:a.workTime}),[o]=t.useForm(),[j]=p.useState(u()),R=()=>{o.validateFields().then(async()=>{const r=o.getFieldsValue(),a={...r,breakStartDate:r.breakTime[0],breakEndDate:r.breakTime[1]};await T(a).then(()=>{l()}),q&&await b(new Date)})},k=()=>{l()};return p.useEffect(()=>{o&&s(i.LeaveRequest)&&(o.resetFields(),o.setFieldsValue(u(n)))},[n,o,s(i.LeaveRequest)]),e.jsx(M,{open:s(i.LeaveRequest),...x,className:`${h}`,title:"Leave Request",onOk:R,confirmLoading:v,onCancel:k,maskClosable:!1,children:e.jsxs(t,{form:o,initialValues:j,validateTrigger:"onSubmit",name:"leaveRequest",autoComplete:"off",layout:"horizontal",style:{marginTop:"2rem"},labelCol:{span:6},wrapperCol:{span:18},children:[e.jsx(t.Item,{name:"requestType",hidden:!0,children:e.jsx(m,{disabled:!0})}),e.jsx(t.Item,{name:"approvedId",rules:[{required:!0,message:"Please input your Approved!"}],hidden:!0,children:e.jsx(m,{disabled:!0})}),e.jsx(t.Item,{shouldUpdate:!0,noStyle:!0,children:({getFieldError:r})=>{var a,c;return e.jsx(t.Item,{label:"Approved User",name:"approvedName",validateStatus:(a=r("approvedId"))!=null&&a.length?"error":"",help:(c=r("approvedId"))==null?void 0:c[0],children:e.jsx(m,{disabled:!0})})}}),e.jsx(t.Item,{label:"Date",name:"date",rules:[{required:!0,message:"Please input your date!"}],children:e.jsx(D,{})}),e.jsx(t.Item,{label:"Break Time",name:"breakTime",required:!0,rules:[{validator:S(d,!0)}],children:e.jsx(w,{disabledTime:()=>F(d),hideDisabledOptions:!0,showSecond:!1})}),e.jsx(t.Item,{label:"Reason",name:"reason",rules:[{required:!0,message:"Please input your reason!"}],children:e.jsx(L,{})})]})})},we=p.memo(A);export{we as LeaveRequestModelMemo,A as default};
