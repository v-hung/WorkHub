import{r as s,j as S}from"./index--uR3bosk.js";import{S as x}from"./SelectAsyncScroll-CqaChjMP.js";import{d as N}from"./common.utils-DPZ9yX3U.js";import{u as v}from"./useTeams-CPTViS0J.js";import{i as y}from"./validate.utils-ciPUpZAo.js";const C=l=>{const{className:p,value:t,...u}=l,{teamPaginated:o,loading:i,request:m,updateRequest:n,fetchTeams:f}=v(),[d,c]=s.useState([]);s.useEffect(()=>{y(t)||f(Array.isArray(t)?t:[t]).then(e=>{c(e.map(a=>({label:a.name,value:a.id})))})},[]),s.useEffect(()=>{c(e=>{const a=o.data.map(r=>({label:r.name,value:r.id}));return o.currentPage===1?a:Array.from(new Map([...e??[],...a].map(r=>[r.value,r])).values())})},[o.data]);const b=s.useCallback(N(e=>{n(a=>({...a,pageNumber:1,searchConditions:[{column:"name",operator:"Contains",values:[e]}]}))},300),[m]),g=s.useCallback(()=>{o.hasNextPage&&n(e=>({...e,pageNumber:e.pageNumber+1}))},[m,o.hasNextPage]),h=()=>{n(e=>({...e,pageNumber:1}))};return S.jsx(x,{value:t,className:p,options:d,loading:i,onSearch:b,scrollInfiniteCb:g,firstOpenDropdown:h,...u})},w=s.memo(C);export{w as T};
