import{r as c,j as t,w as x,x as h}from"./index--uR3bosk.js";import{D as u}from"./DatePicker-C7I8Jg0m.js";import{u as g}from"./TimesheetEmployeePage-_ilEuxc5.js";import{P as j}from"./PageLoading-BLgQNoIA.js";import{F as s}from"./index-BgZba38B.js";import{M as f}from"./index-BgAJHb6z.js";import{e as y}from"./endOfMonth-BI9bRzhF.js";import{t as b}from"./startOfDay-DVNVffkj.js";import"./typeof-C5VrKZhV.js";import"./dropdown-Dl8K4053.js";import"./index-c0GfCdz7.js";import"./EllipsisOutlined-BTocrDpt.js";import"./index-f1v-kFPc.js";import"./collapse-BbEVqHco.js";import"./Input-CZqVGBfN.js";import"./useVariants-BuS53gwb.js";import"./useIcons-BCjpvc7O.js";import"./DownOutlined-DmCfGseC.js";import"./loader-C4fNgBr5.js";import"./auth.store-DCyo43Do.js";import"./error.utils-BlwQgnKf.js";import"./DefaultContent-rY5y8PUg.js";import"./common.utils-DPZ9yX3U.js";import"./DefaultBreadcrumb-DHRDwWi8.js";import"./hasPermission-A1V7tTeH.js";import"./Permission-BrgRu2qR.js";import"./MainTable-GzCEjfuZ.js";import"./index-Cw5KyAVY.js";import"./index-tL5HCDFB.js";import"./index-BsljEl-V.js";import"./gapSize-U1swVQyS.js";import"./index-ndTAV7xn.js";import"./useBreakpoint-CJq1a_UD.js";import"./index-D5u-G5-S.js";import"./calendar-check-YvWhLMyH.js";import"./date.utils-CRd9Tq6_.js";import"./en-US-BRWW7OjM.js";import"./buildMatchPatternFn-DF4FdbSS.js";import"./UserSelect-C6Zfnbmt.js";import"./SelectAsyncScroll-CqaChjMP.js";import"./useUsers-DFLz3FjB.js";import"./validate.utils-ciPUpZAo.js";import"./index-BCYX8c6P.js";import"./chevron-back-yLp5EtMO.js";import"./chevron-forward-BP65w4GZ.js";import"./addMonths-CDK6CqD6.js";import"./sync-I6-SBLfr.js";function S(r,e){const o=b(r,e==null?void 0:e.in);return o.setDate(1),o.setHours(0,0,0,0),o}const gt=r=>{const{className:e="",...o}=r,{loading:m,syncTimesheet:p}=g(),[i]=s.useForm(),[d]=c.useState({month:new Date}),a=()=>{i.validateFields().then(async()=>{const n=i.getFieldsValue();await p({from:S(n.month),to:y(n.month)},l=>{h().info({title:"Thông báo",content:t.jsx(T,{data:l}),onOk:()=>{}})})})};return t.jsxs(t.Fragment,{children:[t.jsx(f,{className:`${e}`,title:"Sync timesheet from timekeeping machine",onOk:a,confirmLoading:m,maskClosable:!1,...o,children:t.jsx(s,{form:i,initialValues:d,validateTrigger:"onSubmit",style:{marginTop:"2rem"},children:t.jsx(s.Item,{name:"month",label:"Month",rules:[{required:!0}],children:t.jsx(u,{picker:"month"})})})}),m?x.createPortal(t.jsx(j,{}),document.body):null]})},T=({data:r})=>t.jsxs(t.Fragment,{children:[t.jsx("b",{children:"Tải người dùng thành công"}),t.jsx("div",{style:{marginTop:12},children:t.jsx("table",{style:{borderCollapse:"collapse",width:"100%"},children:t.jsxs("tbody",{children:[t.jsxs("tr",{children:[t.jsx("td",{style:{padding:"4px 8px",border:"1px solid #ccc"},children:"Số timesheet tìm thấy"}),t.jsx("td",{style:{padding:"4px 8px",border:"1px solid #ccc"},children:r.loadCount})]}),t.jsxs("tr",{children:[t.jsx("td",{style:{padding:"4px 8px",border:"1px solid #ccc"},children:"Số timesheet thêm mới"}),t.jsx("td",{style:{padding:"4px 8px",border:"1px solid #ccc"},children:r.newCount})]}),t.jsxs("tr",{children:[t.jsx("td",{style:{padding:"4px 8px",border:"1px solid #ccc"},children:"Số timesheet cập nhập"}),t.jsx("td",{style:{padding:"4px 8px",border:"1px solid #ccc"},children:r.updateCount})]})]})})})]});export{gt as default};
