import{f as s,a$ as n,b0 as c}from"./index--uR3bosk.js";import{u as l}from"./auth.store-DCyo43Do.js";async function r(){n.isInitialized||await n.init(),c.isInitialized||await c.init(n.language)}function h(t,a){return async(...e)=>{await r();const{user:i,permissions:o}=await l.getState().load(),{request:u}=e[0];if(!i){const w=u.url!="/auth/login"?"?redirectUrl="+encodeURIComponent(new URL(u.url).pathname):"";throw s(`/auth/login${w}`)}if(a&&!o.includes(a))throw s("/");return t?t(e[0],{user:i,permissions:o}):null}}function p(t){return async(...a)=>{await r();const e=await l.getState().load();return t?t(a[0],e):null}}function g(t){return async(...a)=>(await r(),null)}export{p as a,g as b,h as w};
