import{j as e,r as a,v as x,B as d,a as T}from"./index--uR3bosk.js";import{w as g}from"./loader-C4fNgBr5.js";import{M as h}from"./MainTable-GzCEjfuZ.js";import{u as k}from"./useWorkTimes-xPlE9kem.js";import{u as w}from"./useWorkTimeAction-DzoegdtV.js";import{P as s}from"./Permission-BrgRu2qR.js";import{h as l}from"./hasPermission-A1V7tTeH.js";import{S as C}from"./index-BsljEl-V.js";import{P as j}from"./index-CULCKU4c.js";import{h as P,b as M}from"./table.utils-CcbrKq_Y.js";import{D as b,a as y,b as A}from"./DefaultContent-rY5y8PUg.js";import{D as W}from"./DefaultBreadcrumb-DHRDwWi8.js";import{F as D}from"./plus-DnimChr7.js";import"./auth.store-DCyo43Do.js";import"./error.utils-BlwQgnKf.js";import"./index-f1v-kFPc.js";import"./index-Cw5KyAVY.js";import"./EllipsisOutlined-BTocrDpt.js";import"./dropdown-Dl8K4053.js";import"./index-c0GfCdz7.js";import"./collapse-BbEVqHco.js";import"./Input-CZqVGBfN.js";import"./useVariants-BuS53gwb.js";import"./useIcons-BCjpvc7O.js";import"./DownOutlined-DmCfGseC.js";import"./index-tL5HCDFB.js";import"./index-ndTAV7xn.js";import"./useBreakpoint-CJq1a_UD.js";import"./index-D5u-G5-S.js";import"./gapSize-U1swVQyS.js";import"./index-CWAu2eCQ.js";import"./index-0qdCREwA.js";import"./common.utils-DPZ9yX3U.js";const c=a.createContext(null),v=({children:t})=>{const{workTimePaginated:o,updateRequest:i,loading:r}=k(),{deleteRecord:n}=w();return e.jsx(c.Provider,{value:{workTimePaginated:o,updateRequest:i,loading:r,deleteRecord:n},children:t})},p=()=>{const t=a.useContext(c);if(!t)throw new Error("currentContext has to be used");return t},R=[{title:"Title",dataIndex:"title",key:"title"},{title:"Start Time Morning",dataIndex:"startTimeMorning",key:"startTimeMorning"},{title:"End Time Morning",dataIndex:"endTimeMorning",key:"endTimeMorning"},{title:"Start Time Afternoon",dataIndex:"startTimeAfternoon",key:"startTimeAfternoon"},{title:"End Time Afternoon",dataIndex:"endTimeAfternoon",key:"endTimeAfternoon"},{title:"Allowed Late Minutes",dataIndex:"allowedLateMinutes",key:"allowedLateMinutes"},{title:"Action",key:"action",width:"9rem",fixed:"right",render:(t,o)=>e.jsx("div",{children:e.jsxs(C,{size:"small",children:[l(s.PermissionsWorkTimesEdit)?e.jsx(x,{href:`/work-times/${o.id}/edit`,size:"small",color:"cyan",variant:"outlined",children:"Edit"}):null,l(s.PermissionsWorkTimesDelete)?e.jsx(E,{id:o.id}):null]})})}],E=({id:t})=>{const{updateRequest:o,deleteRecord:i}=p(),r=async()=>{await i(t),o(n=>({...n,pageNumber:1}))};return e.jsx(j,{title:"Delete the workTime",description:"Are you sure to delete this workTime?",onConfirm:r,placement:"bottomRight",children:e.jsx(d,{size:"small",danger:!0,children:"Delete"})})},I=()=>{const{workTimePaginated:t,updateRequest:o,loading:i}=p();a.useEffect(()=>{o(m=>({...m,pageNumber:1,searchConditions:[]}))},[]);const r=a.useCallback(async(m,u,f)=>{P(m,u,f,o)},[o]),n=a.useMemo(()=>M(t),[t]);return e.jsx(h,{columns:R,dataSource:t.data,loading:i,pagination:n,onChange:r})},ue=g(void 0,s.PermissionsWorkTimesView);function fe(){const t=T();return e.jsxs(b,{pageClassName:"h-screen",children:[e.jsx(y,{title:"Work times Manager",children:l(s.PermissionsWorkTimesCreate)?e.jsx(d,{type:"primary",onClick:()=>t("/work-times/create"),icon:e.jsx(D,{width:16,height:16}),children:"Add work time"}):null}),e.jsx(W,{items:[{title:"Home",path:"/"},{title:"Work time Manager"}]}),e.jsx(A,{children:e.jsx(v,{children:e.jsx(I,{})})})]})}export{fe as Component,ue as loader};
