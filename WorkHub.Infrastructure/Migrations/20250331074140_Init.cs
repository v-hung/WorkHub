using System;
using Microsoft.EntityFrameworkCore.Metadata;
using Microsoft.EntityFrameworkCore.Migrations;

#nullable disable

namespace WorkHub.Infrastructure.Migrations
{
	/// <inheritdoc />
	public partial class Init : Migration
	{
		/// <inheritdoc />
		protected override void Up(MigrationBuilder migrationBuilder)
		{
			migrationBuilder.AlterDatabase()
					.Annotation("MySql:CharSet", "utf8mb4");

			migrationBuilder.CreateTable(
					name: "AspNetRoles",
					columns: table => new
					{
						Id = table.Column<Guid>(type: "char(36)", nullable: false, collation: "ascii_general_ci"),
						Description = table.Column<string>(type: "longtext", nullable: false)
									.Annotation("MySql:CharSet", "utf8mb4"),
						IsAdmin = table.Column<bool>(type: "tinyint(1)", nullable: false),
						Name = table.Column<string>(type: "varchar(256)", maxLength: 256, nullable: true)
									.Annotation("MySql:CharSet", "utf8mb4"),
						NormalizedName = table.Column<string>(type: "varchar(256)", maxLength: 256, nullable: true)
									.Annotation("MySql:CharSet", "utf8mb4"),
						ConcurrencyStamp = table.Column<string>(type: "longtext", nullable: true)
									.Annotation("MySql:CharSet", "utf8mb4")
					},
					constraints: table =>
					{
						table.PrimaryKey("PK_AspNetRoles", x => x.Id);
					})
					.Annotation("MySql:CharSet", "utf8mb4");

			migrationBuilder.CreateTable(
					name: "DeviceCategories",
					columns: table => new
					{
						Id = table.Column<int>(type: "int", nullable: false)
									.Annotation("MySql:ValueGenerationStrategy", MySqlValueGenerationStrategy.IdentityColumn),
						Name = table.Column<string>(type: "longtext", nullable: false)
									.Annotation("MySql:CharSet", "utf8mb4"),
						Description = table.Column<string>(type: "longtext", nullable: true)
									.Annotation("MySql:CharSet", "utf8mb4")
					},
					constraints: table =>
					{
						table.PrimaryKey("PK_DeviceCategories", x => x.Id);
					})
					.Annotation("MySql:CharSet", "utf8mb4");

			migrationBuilder.CreateTable(
					name: "WorkTimes",
					columns: table => new
					{
						Id = table.Column<int>(type: "int", nullable: false)
									.Annotation("MySql:ValueGenerationStrategy", MySqlValueGenerationStrategy.IdentityColumn),
						Title = table.Column<string>(type: "longtext", nullable: false)
									.Annotation("MySql:CharSet", "utf8mb4"),
						StartTimeMorning = table.Column<TimeSpan>(type: "time(6)", nullable: false),
						EndTimeMorning = table.Column<TimeSpan>(type: "time(6)", nullable: false),
						StartTimeAfternoon = table.Column<TimeSpan>(type: "time(6)", nullable: false),
						EndTimeAfternoon = table.Column<TimeSpan>(type: "time(6)", nullable: false),
						AllowedLateMinutes = table.Column<int>(type: "int", nullable: false),
						CreatedAt = table.Column<DateTime>(type: "datetime(6)", nullable: false),
						UpdatedAt = table.Column<DateTime>(type: "datetime(6)", nullable: true),
						CreatedBy = table.Column<string>(type: "longtext", nullable: true)
									.Annotation("MySql:CharSet", "utf8mb4"),
						LastModifiedBy = table.Column<string>(type: "longtext", nullable: true)
									.Annotation("MySql:CharSet", "utf8mb4")
					},
					constraints: table =>
					{
						table.PrimaryKey("PK_WorkTimes", x => x.Id);
					})
					.Annotation("MySql:CharSet", "utf8mb4");

			migrationBuilder.CreateTable(
					name: "AspNetRoleClaims",
					columns: table => new
					{
						Id = table.Column<int>(type: "int", nullable: false)
									.Annotation("MySql:ValueGenerationStrategy", MySqlValueGenerationStrategy.IdentityColumn),
						RoleId = table.Column<Guid>(type: "char(36)", nullable: false, collation: "ascii_general_ci"),
						ClaimType = table.Column<string>(type: "longtext", nullable: true)
									.Annotation("MySql:CharSet", "utf8mb4"),
						ClaimValue = table.Column<string>(type: "longtext", nullable: true)
									.Annotation("MySql:CharSet", "utf8mb4")
					},
					constraints: table =>
					{
						table.PrimaryKey("PK_AspNetRoleClaims", x => x.Id);
						table.ForeignKey(
											name: "FK_AspNetRoleClaims_AspNetRoles_RoleId",
											column: x => x.RoleId,
											principalTable: "AspNetRoles",
											principalColumn: "Id",
											onDelete: ReferentialAction.Cascade);
					})
					.Annotation("MySql:CharSet", "utf8mb4");

			migrationBuilder.CreateTable(
					name: "AspNetUserClaims",
					columns: table => new
					{
						Id = table.Column<int>(type: "int", nullable: false)
									.Annotation("MySql:ValueGenerationStrategy", MySqlValueGenerationStrategy.IdentityColumn),
						UserId = table.Column<Guid>(type: "char(36)", nullable: false, collation: "ascii_general_ci"),
						ClaimType = table.Column<string>(type: "longtext", nullable: true)
									.Annotation("MySql:CharSet", "utf8mb4"),
						ClaimValue = table.Column<string>(type: "longtext", nullable: true)
									.Annotation("MySql:CharSet", "utf8mb4")
					},
					constraints: table =>
					{
						table.PrimaryKey("PK_AspNetUserClaims", x => x.Id);
					})
					.Annotation("MySql:CharSet", "utf8mb4");

			migrationBuilder.CreateTable(
					name: "AspNetUserLogins",
					columns: table => new
					{
						LoginProvider = table.Column<string>(type: "varchar(255)", nullable: false)
									.Annotation("MySql:CharSet", "utf8mb4"),
						ProviderKey = table.Column<string>(type: "varchar(255)", nullable: false)
									.Annotation("MySql:CharSet", "utf8mb4"),
						ProviderDisplayName = table.Column<string>(type: "longtext", nullable: true)
									.Annotation("MySql:CharSet", "utf8mb4"),
						UserId = table.Column<Guid>(type: "char(36)", nullable: false, collation: "ascii_general_ci")
					},
					constraints: table =>
					{
						table.PrimaryKey("PK_AspNetUserLogins", x => new { x.LoginProvider, x.ProviderKey });
					})
					.Annotation("MySql:CharSet", "utf8mb4");

			migrationBuilder.CreateTable(
					name: "AspNetUserRoles",
					columns: table => new
					{
						UserId = table.Column<Guid>(type: "char(36)", nullable: false, collation: "ascii_general_ci"),
						RoleId = table.Column<Guid>(type: "char(36)", nullable: false, collation: "ascii_general_ci")
					},
					constraints: table =>
					{
						table.PrimaryKey("PK_AspNetUserRoles", x => new { x.UserId, x.RoleId });
						table.ForeignKey(
											name: "FK_AspNetUserRoles_AspNetRoles_RoleId",
											column: x => x.RoleId,
											principalTable: "AspNetRoles",
											principalColumn: "Id",
											onDelete: ReferentialAction.Cascade);
					})
					.Annotation("MySql:CharSet", "utf8mb4");

			migrationBuilder.CreateTable(
					name: "AspNetUsers",
					columns: table => new
					{
						Id = table.Column<Guid>(type: "char(36)", nullable: false, collation: "ascii_general_ci"),
						Code = table.Column<string>(type: "longtext", nullable: false)
									.Annotation("MySql:CharSet", "utf8mb4"),
						FullName = table.Column<string>(type: "longtext", nullable: false)
									.Annotation("MySql:CharSet", "utf8mb4"),
						Image = table.Column<string>(type: "longtext", nullable: true)
									.Annotation("MySql:CharSet", "utf8mb4"),
						UserPosition = table.Column<int>(type: "int", nullable: false),
						IsFirstLogin = table.Column<bool>(type: "tinyint(1)", nullable: false),
						RemainingLeaveMinutes = table.Column<int>(type: "int", nullable: false),
						UserStatus = table.Column<int>(type: "int", nullable: false),
						CreatedAt = table.Column<DateTime>(type: "datetime(6)", nullable: false),
						UpdatedAt = table.Column<DateTime>(type: "datetime(6)", nullable: true),
						CreatedBy = table.Column<string>(type: "longtext", nullable: true)
									.Annotation("MySql:CharSet", "utf8mb4"),
						LastModifiedBy = table.Column<string>(type: "longtext", nullable: true)
									.Annotation("MySql:CharSet", "utf8mb4"),
						IsDeleted = table.Column<bool>(type: "tinyint(1)", nullable: false),
						WorkTimeId = table.Column<int>(type: "int", nullable: true),
						SupervisorId = table.Column<Guid>(type: "char(36)", nullable: true, collation: "ascii_general_ci"),
						TeamId = table.Column<int>(type: "int", nullable: true),
						UserName = table.Column<string>(type: "varchar(256)", maxLength: 256, nullable: true)
									.Annotation("MySql:CharSet", "utf8mb4"),
						NormalizedUserName = table.Column<string>(type: "varchar(256)", maxLength: 256, nullable: true)
									.Annotation("MySql:CharSet", "utf8mb4"),
						Email = table.Column<string>(type: "varchar(256)", maxLength: 256, nullable: true)
									.Annotation("MySql:CharSet", "utf8mb4"),
						NormalizedEmail = table.Column<string>(type: "varchar(256)", maxLength: 256, nullable: true)
									.Annotation("MySql:CharSet", "utf8mb4"),
						EmailConfirmed = table.Column<bool>(type: "tinyint(1)", nullable: false),
						PasswordHash = table.Column<string>(type: "longtext", nullable: true)
									.Annotation("MySql:CharSet", "utf8mb4"),
						SecurityStamp = table.Column<string>(type: "longtext", nullable: true)
									.Annotation("MySql:CharSet", "utf8mb4"),
						ConcurrencyStamp = table.Column<string>(type: "longtext", nullable: true)
									.Annotation("MySql:CharSet", "utf8mb4"),
						PhoneNumber = table.Column<string>(type: "longtext", nullable: true)
									.Annotation("MySql:CharSet", "utf8mb4"),
						PhoneNumberConfirmed = table.Column<bool>(type: "tinyint(1)", nullable: false),
						TwoFactorEnabled = table.Column<bool>(type: "tinyint(1)", nullable: false),
						LockoutEnd = table.Column<DateTimeOffset>(type: "datetime(6)", nullable: true),
						LockoutEnabled = table.Column<bool>(type: "tinyint(1)", nullable: false),
						AccessFailedCount = table.Column<int>(type: "int", nullable: false)
					},
					constraints: table =>
					{
						table.PrimaryKey("PK_AspNetUsers", x => x.Id);
						table.ForeignKey(
											name: "FK_AspNetUsers_AspNetUsers_SupervisorId",
											column: x => x.SupervisorId,
											principalTable: "AspNetUsers",
											principalColumn: "Id",
											onDelete: ReferentialAction.Restrict);
						table.ForeignKey(
											name: "FK_AspNetUsers_WorkTimes_WorkTimeId",
											column: x => x.WorkTimeId,
											principalTable: "WorkTimes",
											principalColumn: "Id");
					})
					.Annotation("MySql:CharSet", "utf8mb4");

			migrationBuilder.CreateTable(
					name: "AspNetUserTokens",
					columns: table => new
					{
						UserId = table.Column<Guid>(type: "char(36)", nullable: false, collation: "ascii_general_ci"),
						LoginProvider = table.Column<string>(type: "varchar(255)", nullable: false)
									.Annotation("MySql:CharSet", "utf8mb4"),
						Name = table.Column<string>(type: "varchar(255)", nullable: false)
									.Annotation("MySql:CharSet", "utf8mb4"),
						Value = table.Column<string>(type: "longtext", nullable: true)
									.Annotation("MySql:CharSet", "utf8mb4")
					},
					constraints: table =>
					{
						table.PrimaryKey("PK_AspNetUserTokens", x => new { x.UserId, x.LoginProvider, x.Name });
						table.ForeignKey(
											name: "FK_AspNetUserTokens_AspNetUsers_UserId",
											column: x => x.UserId,
											principalTable: "AspNetUsers",
											principalColumn: "Id",
											onDelete: ReferentialAction.Cascade);
					})
					.Annotation("MySql:CharSet", "utf8mb4");

			migrationBuilder.CreateTable(
					name: "Device",
					columns: table => new
					{
						Id = table.Column<int>(type: "int", nullable: false)
									.Annotation("MySql:ValueGenerationStrategy", MySqlValueGenerationStrategy.IdentityColumn),
						Name = table.Column<string>(type: "longtext", nullable: false)
									.Annotation("MySql:CharSet", "utf8mb4"),
						Description = table.Column<string>(type: "longtext", nullable: true)
									.Annotation("MySql:CharSet", "utf8mb4"),
						Location = table.Column<string>(type: "longtext", nullable: true)
									.Annotation("MySql:CharSet", "utf8mb4"),
						Status = table.Column<int>(type: "int", nullable: false),
						AssignedUserId = table.Column<Guid>(type: "char(36)", nullable: true, collation: "ascii_general_ci"),
						CreatedAt = table.Column<DateTime>(type: "datetime(6)", nullable: false),
						UpdatedAt = table.Column<DateTime>(type: "datetime(6)", nullable: true),
						CreatedBy = table.Column<string>(type: "longtext", nullable: true)
									.Annotation("MySql:CharSet", "utf8mb4"),
						LastModifiedBy = table.Column<string>(type: "longtext", nullable: true)
									.Annotation("MySql:CharSet", "utf8mb4")
					},
					constraints: table =>
					{
						table.PrimaryKey("PK_Device", x => x.Id);
						table.ForeignKey(
											name: "FK_Device_AspNetUsers_AssignedUserId",
											column: x => x.AssignedUserId,
											principalTable: "AspNetUsers",
											principalColumn: "Id");
					})
					.Annotation("MySql:CharSet", "utf8mb4");

			migrationBuilder.CreateTable(
					name: "RefreshTokens",
					columns: table => new
					{
						Id = table.Column<int>(type: "int", nullable: false)
									.Annotation("MySql:ValueGenerationStrategy", MySqlValueGenerationStrategy.IdentityColumn),
						Token = table.Column<string>(type: "longtext", nullable: false)
									.Annotation("MySql:CharSet", "utf8mb4"),
						Expires = table.Column<DateTime>(type: "datetime(6)", nullable: false),
						RememberMe = table.Column<bool>(type: "tinyint(1)", nullable: false),
						Created = table.Column<DateTime>(type: "datetime(6)", nullable: false),
						UserId = table.Column<Guid>(type: "char(36)", nullable: false, collation: "ascii_general_ci")
					},
					constraints: table =>
					{
						table.PrimaryKey("PK_RefreshTokens", x => x.Id);
						table.ForeignKey(
											name: "FK_RefreshTokens_AspNetUsers_UserId",
											column: x => x.UserId,
											principalTable: "AspNetUsers",
											principalColumn: "Id",
											onDelete: ReferentialAction.Cascade);
					})
					.Annotation("MySql:CharSet", "utf8mb4");

			migrationBuilder.CreateTable(
					name: "Teams",
					columns: table => new
					{
						Id = table.Column<int>(type: "int", nullable: false)
									.Annotation("MySql:ValueGenerationStrategy", MySqlValueGenerationStrategy.IdentityColumn),
						Name = table.Column<string>(type: "longtext", nullable: false)
									.Annotation("MySql:CharSet", "utf8mb4"),
						Description = table.Column<string>(type: "longtext", nullable: true)
									.Annotation("MySql:CharSet", "utf8mb4"),
						CompletedProjects = table.Column<int>(type: "int", nullable: false),
						ActiveProjects = table.Column<int>(type: "int", nullable: false),
						ManagerId = table.Column<Guid>(type: "char(36)", nullable: true, collation: "ascii_general_ci"),
						CreatedAt = table.Column<DateTime>(type: "datetime(6)", nullable: false),
						UpdatedAt = table.Column<DateTime>(type: "datetime(6)", nullable: true),
						CreatedBy = table.Column<string>(type: "longtext", nullable: true)
									.Annotation("MySql:CharSet", "utf8mb4"),
						LastModifiedBy = table.Column<string>(type: "longtext", nullable: true)
									.Annotation("MySql:CharSet", "utf8mb4")
					},
					constraints: table =>
					{
						table.PrimaryKey("PK_Teams", x => x.Id);
						table.ForeignKey(
											name: "FK_Teams_AspNetUsers_ManagerId",
											column: x => x.ManagerId,
											principalTable: "AspNetUsers",
											principalColumn: "Id");
					})
					.Annotation("MySql:CharSet", "utf8mb4");

			migrationBuilder.CreateTable(
					name: "Timesheets",
					columns: table => new
					{
						Id = table.Column<Guid>(type: "char(36)", nullable: false, collation: "ascii_general_ci"),
						Date = table.Column<DateTime>(type: "datetime(6)", nullable: false),
						StartTime = table.Column<DateTime>(type: "datetime(6)", nullable: false),
						EndTime = table.Column<DateTime>(type: "datetime(6)", nullable: true),
						WorkMinutes = table.Column<int>(type: "int", nullable: false),
						UserId = table.Column<Guid>(type: "char(36)", nullable: false, collation: "ascii_general_ci")
					},
					constraints: table =>
					{
						table.PrimaryKey("PK_Timesheets", x => x.Id);
						table.ForeignKey(
											name: "FK_Timesheets_AspNetUsers_UserId",
											column: x => x.UserId,
											principalTable: "AspNetUsers",
											principalColumn: "Id",
											onDelete: ReferentialAction.Cascade);
					})
					.Annotation("MySql:CharSet", "utf8mb4");

			migrationBuilder.CreateTable(
					name: "UserDetails",
					columns: table => new
					{
						Id = table.Column<int>(type: "int", nullable: false)
									.Annotation("MySql:ValueGenerationStrategy", MySqlValueGenerationStrategy.IdentityColumn),
						BirthDate = table.Column<DateTime>(type: "datetime(6)", nullable: false),
						Gender = table.Column<bool>(type: "tinyint(1)", nullable: false),
						PermanentAddress = table.Column<string>(type: "longtext", nullable: true)
									.Annotation("MySql:CharSet", "utf8mb4"),
						ContactAddress = table.Column<string>(type: "longtext", nullable: true)
									.Annotation("MySql:CharSet", "utf8mb4"),
						YearsOfWork = table.Column<int>(type: "int", nullable: false),
						Nationality = table.Column<int>(type: "int", nullable: false),
						UserId = table.Column<Guid>(type: "char(36)", nullable: true, collation: "ascii_general_ci")
					},
					constraints: table =>
					{
						table.PrimaryKey("PK_UserDetails", x => x.Id);
						table.ForeignKey(
											name: "FK_UserDetails_AspNetUsers_UserId",
											column: x => x.UserId,
											principalTable: "AspNetUsers",
											principalColumn: "Id");
					})
					.Annotation("MySql:CharSet", "utf8mb4");

			migrationBuilder.CreateTable(
					name: "DeviceDeviceCategory",
					columns: table => new
					{
						DeviceCategoriesId = table.Column<int>(type: "int", nullable: false),
						DevicesId = table.Column<int>(type: "int", nullable: false)
					},
					constraints: table =>
					{
						table.PrimaryKey("PK_DeviceDeviceCategory", x => new { x.DeviceCategoriesId, x.DevicesId });
						table.ForeignKey(
											name: "FK_DeviceDeviceCategory_DeviceCategories_DeviceCategoriesId",
											column: x => x.DeviceCategoriesId,
											principalTable: "DeviceCategories",
											principalColumn: "Id",
											onDelete: ReferentialAction.Cascade);
						table.ForeignKey(
											name: "FK_DeviceDeviceCategory_Device_DevicesId",
											column: x => x.DevicesId,
											principalTable: "Device",
											principalColumn: "Id",
											onDelete: ReferentialAction.Cascade);
					})
					.Annotation("MySql:CharSet", "utf8mb4");

			migrationBuilder.CreateTable(
					name: "Projects",
					columns: table => new
					{
						Id = table.Column<int>(type: "int", nullable: false)
									.Annotation("MySql:ValueGenerationStrategy", MySqlValueGenerationStrategy.IdentityColumn),
						Name = table.Column<string>(type: "longtext", nullable: false)
									.Annotation("MySql:CharSet", "utf8mb4"),
						Description = table.Column<string>(type: "longtext", nullable: true)
									.Annotation("MySql:CharSet", "utf8mb4"),
						StartDate = table.Column<DateTime>(type: "datetime(6)", nullable: true),
						EndDate = table.Column<DateTime>(type: "datetime(6)", nullable: true),
						Status = table.Column<int>(type: "int", nullable: false),
						TeamId = table.Column<int>(type: "int", nullable: true),
						ManagerId = table.Column<Guid>(type: "char(36)", nullable: false, collation: "ascii_general_ci"),
						CreatedAt = table.Column<DateTime>(type: "datetime(6)", nullable: false),
						UpdatedAt = table.Column<DateTime>(type: "datetime(6)", nullable: true),
						CreatedBy = table.Column<string>(type: "longtext", nullable: true)
									.Annotation("MySql:CharSet", "utf8mb4"),
						LastModifiedBy = table.Column<string>(type: "longtext", nullable: true)
									.Annotation("MySql:CharSet", "utf8mb4")
					},
					constraints: table =>
					{
						table.PrimaryKey("PK_Projects", x => x.Id);
						table.ForeignKey(
											name: "FK_Projects_AspNetUsers_ManagerId",
											column: x => x.ManagerId,
											principalTable: "AspNetUsers",
											principalColumn: "Id",
											onDelete: ReferentialAction.Cascade);
						table.ForeignKey(
											name: "FK_Projects_Teams_TeamId",
											column: x => x.TeamId,
											principalTable: "Teams",
											principalColumn: "Id");
					})
					.Annotation("MySql:CharSet", "utf8mb4");

			migrationBuilder.CreateTable(
					name: "Requests",
					columns: table => new
					{
						Id = table.Column<int>(type: "int", nullable: false)
									.Annotation("MySql:ValueGenerationStrategy", MySqlValueGenerationStrategy.IdentityColumn),
						Date = table.Column<DateTime>(type: "datetime(6)", nullable: false),
						RequestType = table.Column<int>(type: "int", nullable: false),
						Reason = table.Column<string>(type: "varchar(500)", maxLength: 500, nullable: false)
									.Annotation("MySql:CharSet", "utf8mb4"),
						Status = table.Column<int>(type: "int", nullable: false),
						CreatedAt = table.Column<DateTime>(type: "datetime(6)", nullable: false),
						UserId = table.Column<Guid>(type: "char(36)", nullable: false, collation: "ascii_general_ci"),
						ApprovedId = table.Column<Guid>(type: "char(36)", nullable: false, collation: "ascii_general_ci"),
						TimesheetId = table.Column<Guid>(type: "char(36)", nullable: false, collation: "ascii_general_ci"),
						BreakStartDate = table.Column<DateTime>(type: "datetime(6)", nullable: true),
						BreakEndDate = table.Column<DateTime>(type: "datetime(6)", nullable: true),
						CheckIn = table.Column<DateTime>(type: "datetime(6)", nullable: true),
						CheckOut = table.Column<DateTime>(type: "datetime(6)", nullable: true),
						TimesheetRequest_BreakStartDate = table.Column<DateTime>(type: "datetime(6)", nullable: true),
						TimesheetRequest_BreakEndDate = table.Column<DateTime>(type: "datetime(6)", nullable: true)
					},
					constraints: table =>
					{
						table.PrimaryKey("PK_Requests", x => x.Id);
						table.ForeignKey(
											name: "FK_Requests_AspNetUsers_ApprovedId",
											column: x => x.ApprovedId,
											principalTable: "AspNetUsers",
											principalColumn: "Id",
											onDelete: ReferentialAction.Cascade);
						table.ForeignKey(
											name: "FK_Requests_AspNetUsers_UserId",
											column: x => x.UserId,
											principalTable: "AspNetUsers",
											principalColumn: "Id",
											onDelete: ReferentialAction.Cascade);
						table.ForeignKey(
											name: "FK_Requests_Timesheets_TimesheetId",
											column: x => x.TimesheetId,
											principalTable: "Timesheets",
											principalColumn: "Id",
											onDelete: ReferentialAction.Cascade);
					})
					.Annotation("MySql:CharSet", "utf8mb4");

			migrationBuilder.CreateTable(
					name: "ProjectUser",
					columns: table => new
					{
						MembersId = table.Column<Guid>(type: "char(36)", nullable: false, collation: "ascii_general_ci"),
						ProjectsId = table.Column<int>(type: "int", nullable: false)
					},
					constraints: table =>
					{
						table.PrimaryKey("PK_ProjectUser", x => new { x.MembersId, x.ProjectsId });
						table.ForeignKey(
											name: "FK_ProjectUser_AspNetUsers_MembersId",
											column: x => x.MembersId,
											principalTable: "AspNetUsers",
											principalColumn: "Id",
											onDelete: ReferentialAction.Cascade);
						table.ForeignKey(
											name: "FK_ProjectUser_Projects_ProjectsId",
											column: x => x.ProjectsId,
											principalTable: "Projects",
											principalColumn: "Id",
											onDelete: ReferentialAction.Cascade);
					})
					.Annotation("MySql:CharSet", "utf8mb4");

			migrationBuilder.CreateIndex(
					name: "IX_AspNetRoleClaims_RoleId",
					table: "AspNetRoleClaims",
					column: "RoleId");

			migrationBuilder.CreateIndex(
					name: "RoleNameIndex",
					table: "AspNetRoles",
					column: "NormalizedName",
					unique: true);

			migrationBuilder.CreateIndex(
					name: "IX_AspNetUserClaims_UserId",
					table: "AspNetUserClaims",
					column: "UserId");

			migrationBuilder.CreateIndex(
					name: "IX_AspNetUserLogins_UserId",
					table: "AspNetUserLogins",
					column: "UserId");

			migrationBuilder.CreateIndex(
					name: "IX_AspNetUserRoles_RoleId",
					table: "AspNetUserRoles",
					column: "RoleId");

			migrationBuilder.CreateIndex(
					name: "EmailIndex",
					table: "AspNetUsers",
					column: "NormalizedEmail");

			migrationBuilder.CreateIndex(
					name: "IX_AspNetUsers_SupervisorId",
					table: "AspNetUsers",
					column: "SupervisorId");

			migrationBuilder.CreateIndex(
					name: "IX_AspNetUsers_TeamId",
					table: "AspNetUsers",
					column: "TeamId");

			migrationBuilder.CreateIndex(
					name: "IX_AspNetUsers_WorkTimeId",
					table: "AspNetUsers",
					column: "WorkTimeId");

			migrationBuilder.CreateIndex(
					name: "UserNameIndex",
					table: "AspNetUsers",
					column: "NormalizedUserName",
					unique: true);

			migrationBuilder.CreateIndex(
					name: "IX_Device_AssignedUserId",
					table: "Device",
					column: "AssignedUserId");

			migrationBuilder.CreateIndex(
					name: "IX_DeviceDeviceCategory_DevicesId",
					table: "DeviceDeviceCategory",
					column: "DevicesId");

			migrationBuilder.CreateIndex(
					name: "IX_Projects_ManagerId",
					table: "Projects",
					column: "ManagerId");

			migrationBuilder.CreateIndex(
					name: "IX_Projects_TeamId",
					table: "Projects",
					column: "TeamId");

			migrationBuilder.CreateIndex(
					name: "IX_ProjectUser_ProjectsId",
					table: "ProjectUser",
					column: "ProjectsId");

			migrationBuilder.CreateIndex(
					name: "IX_RefreshTokens_UserId",
					table: "RefreshTokens",
					column: "UserId");

			migrationBuilder.CreateIndex(
					name: "IX_Requests_ApprovedId",
					table: "Requests",
					column: "ApprovedId");

			migrationBuilder.CreateIndex(
					name: "IX_Requests_TimesheetId",
					table: "Requests",
					column: "TimesheetId");

			migrationBuilder.CreateIndex(
					name: "IX_Requests_UserId",
					table: "Requests",
					column: "UserId");

			migrationBuilder.CreateIndex(
					name: "IX_Teams_ManagerId",
					table: "Teams",
					column: "ManagerId");

			migrationBuilder.CreateIndex(
					name: "IX_Timesheets_UserId",
					table: "Timesheets",
					column: "UserId");

			migrationBuilder.CreateIndex(
					name: "IX_UserDetails_UserId",
					table: "UserDetails",
					column: "UserId",
					unique: true);

			migrationBuilder.AddForeignKey(
					name: "FK_AspNetUserClaims_AspNetUsers_UserId",
					table: "AspNetUserClaims",
					column: "UserId",
					principalTable: "AspNetUsers",
					principalColumn: "Id",
					onDelete: ReferentialAction.Cascade);

			migrationBuilder.AddForeignKey(
					name: "FK_AspNetUserLogins_AspNetUsers_UserId",
					table: "AspNetUserLogins",
					column: "UserId",
					principalTable: "AspNetUsers",
					principalColumn: "Id",
					onDelete: ReferentialAction.Cascade);

			migrationBuilder.AddForeignKey(
					name: "FK_AspNetUserRoles_AspNetUsers_UserId",
					table: "AspNetUserRoles",
					column: "UserId",
					principalTable: "AspNetUsers",
					principalColumn: "Id",
					onDelete: ReferentialAction.Cascade);

			migrationBuilder.AddForeignKey(
					name: "FK_AspNetUsers_Teams_TeamId",
					table: "AspNetUsers",
					column: "TeamId",
					principalTable: "Teams",
					principalColumn: "Id",
					onDelete: ReferentialAction.SetNull);
		}

		/// <inheritdoc />
		protected override void Down(MigrationBuilder migrationBuilder)
		{
			migrationBuilder.DropForeignKey(
					name: "FK_Teams_AspNetUsers_ManagerId",
					table: "Teams");

			migrationBuilder.DropTable(
					name: "AspNetRoleClaims");

			migrationBuilder.DropTable(
					name: "AspNetUserClaims");

			migrationBuilder.DropTable(
					name: "AspNetUserLogins");

			migrationBuilder.DropTable(
					name: "AspNetUserRoles");

			migrationBuilder.DropTable(
					name: "AspNetUserTokens");

			migrationBuilder.DropTable(
					name: "DeviceDeviceCategory");

			migrationBuilder.DropTable(
					name: "ProjectUser");

			migrationBuilder.DropTable(
					name: "RefreshTokens");

			migrationBuilder.DropTable(
					name: "Requests");

			migrationBuilder.DropTable(
					name: "UserDetails");

			migrationBuilder.DropTable(
					name: "AspNetRoles");

			migrationBuilder.DropTable(
					name: "DeviceCategories");

			migrationBuilder.DropTable(
					name: "Device");

			migrationBuilder.DropTable(
					name: "Projects");

			migrationBuilder.DropTable(
					name: "Timesheets");

			migrationBuilder.DropTable(
					name: "AspNetUsers");

			migrationBuilder.DropTable(
					name: "Teams");

			migrationBuilder.DropTable(
					name: "WorkTimes");
		}
	}
}
